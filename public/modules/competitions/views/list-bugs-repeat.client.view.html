<section data-ng-controller="CompetitionsController" data-ng-if="true">
    <section data-ng-if = "openBugs.length > 0" >
        <div class="page-header">
            <h1>Bugs List of {{openBugs[0].group_reported.name}}</h1>
        </div>
        <div class="list-bug">
            <!--
            <ul>
                <li data-ng-repeat="bug in openBugs" class="list-bug-item">
                    <p>Reported By: {{bug.user.displayName}}</p>
                    <p>Group Reported : {{bug.group_reported.name}}</p>
                    <p>Created at: <span data-ng-bind="bug.created | date:'mediumDate'"></span></p>
                    <p>Class Name: {{bug.className}}</p>
                    <p>Routine Name: {{bug.routineName}}</p>
                    <p data-ng-click="showDescription = !showDescription;" style="font-weight:bold">Click to see the Bug Description</p>
                    <p data-ng-if="showDescription">{{bug.description}}</p>
                </li>
            </ul>
            -->
            <table ng-table="datatableListBugsRepeat" class="table table-bordered table-striped table-condensed" show-filter="true">
                <tr ng-repeat="bug in $data">
                    <td title="'Reported By'" filter="{ user: 'text'}" sortable="'user'">
                        {{bug.user.displayName}}
                    </td>
                    <td title="'Group Reported'" filter="{ group_reported: 'text'}" sortable="'group_reported'">
                        {{bug.group_reported.name}}
                    </td>
                    <td title="'Created At'" filter="{ created: 'text'}" sortable="'created'">
                        <span data-ng-bind="bug.created | date:'mediumDate'"></span>
                    </td>
                    <td title="'Class Name'" filter="{ className: 'text'}" sortable="'className'">
                        {{bug.className}}
                    </td>
                    <td title="'Routine Name'" filter="{ routineName: 'text'}" sortable="'routineName'">
                        {{bug.routineName}}
                    </td>
                    <td title="'Bug Description'" filter="{ description: 'text'}" sortable="'description'">
                        <button class="btn btn-primary" data-ng-click="showDescription = !showDescription;"> Click to see the Bug Description</button>
                        <p data-ng-if="showDescription">{{bug.description}}</p>
                    </td>
                </tr>
            </table>
        </div>
    </section>

    <section data-ng-if = "openBugs.length == 0" >
        <div class="page-header">
            <h1>No Open Bugs yet</h1>
        </div>
    </section>
    
    <div class="alert alert-warning text-center" data-ng-hide="!openBugs.$resolved || openBugs.length">
    	No Open Bugs yet
    </div>
</section>